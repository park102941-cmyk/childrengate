(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3610],{41647:(e,t,a)=>{Promise.resolve().then(a.bind(a,67303))},26336:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(63394).A)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},77568:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(63394).A)("qr-code",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]])},28283:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(63394).A)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]])},23817:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(63394).A)("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},67303:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>p});var s=a(95155),r=a(12115),l=a(83935),n=a(44595),i=a(11054),d=a(77568),c=a(28283),o=a(26336),h=a(23817),m=a(183);function p(){let{t:e}=(0,m.o)(),[t,a]=(0,r.useState)(1),[p,x]=(0,r.useState)({studentName:"",className:"",parentName:""}),[u,b]=(0,r.useState)(!1),y=async e=>{e.preventDefault(),b(!0);try{if(!n.db)throw Error("Firebase database is not initialized");await (0,l.gS)((0,l.rJ)(n.db,"pickup_requests"),{...p,requestTime:l.Dc.now(),status:"pending",type:"qr",institutionId:"default_inst"}),fetch("/api/sync-report",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"REQUEST_CREATED",studentName:p.studentName,className:p.className,parentName:p.parentName,timestamp:new Date().toISOString(),status:"PENDING"})}).catch(e=>console.error("Reporting sync failed:",e)),a(2)}catch(e){console.error("Error submitting request:",e),alert("요청 중 오류가 발생했습니다.")}finally{b(!1)}};return(0,s.jsx)("div",{className:"min-h-screen bg-white flex flex-col items-center justify-center p-6",children:(0,s.jsxs)("div",{className:"w-full max-w-md",children:[(0,s.jsxs)("div",{className:"text-center mb-10",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-primary rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-xl shadow-primary/20",children:(0,s.jsx)(d.A,{className:"text-white",size:32})}),(0,s.jsx)("h1",{className:"text-3xl font-extra-bold tracking-tight text-black",children:e.dashboard.parent.title}),(0,s.jsx)("p",{className:"text-black/60 font-semibold mt-2",children:e.dashboard.parent.subtitle})]}),1===t?(0,s.jsx)(i.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gray-50 rounded-[40px] p-8 border border-black/5 shadow-sm",children:(0,s.jsxs)("form",{onSubmit:y,className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-extra-bold mb-2 ml-1 text-black",children:e.dashboard.parent.studentName}),(0,s.jsx)("input",{type:"text",required:!0,placeholder:"예: 홍길동",className:"w-full px-5 py-4 rounded-2xl border-none ring-2 ring-black/5 focus:ring-2 focus:ring-primary outline-none transition-all placeholder:text-black/30 bg-white",value:p.studentName,onChange:e=>x({...p,studentName:e.target.value})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-extra-bold mb-2 ml-1 text-black",children:e.dashboard.parent.className}),(0,s.jsx)("input",{type:"text",required:!0,placeholder:"예: 기쁨반",className:"w-full px-5 py-4 rounded-2xl border-none ring-2 ring-black/5 focus:ring-2 focus:ring-primary outline-none transition-all placeholder:text-black/30 bg-white",value:p.className,onChange:e=>x({...p,className:e.target.value})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-extra-bold mb-2 ml-1 text-black",children:e.dashboard.parent.parentName}),(0,s.jsx)("input",{type:"text",required:!0,placeholder:"보호자 성함",className:"w-full px-5 py-4 rounded-2xl border-none ring-2 ring-black/5 focus:ring-2 focus:ring-primary outline-none transition-all placeholder:text-black/30 bg-white",value:p.parentName,onChange:e=>x({...p,parentName:e.target.value})})]}),(0,s.jsx)("button",{type:"submit",disabled:u,className:"w-full apple-button-primary flex items-center justify-center gap-2 py-5 text-lg font-bold shadow-xl shadow-primary/30",children:u?e.dashboard.parent.requesting:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.A,{size:20}),e.dashboard.parent.requestButton]})})]})}):(0,s.jsxs)(i.P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center p-12 bg-green-50 rounded-[40px] border border-green-100",children:[(0,s.jsx)("div",{className:"w-20 h-20 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-6 text-white",children:(0,s.jsx)(o.A,{size:40})}),(0,s.jsx)("h2",{className:"text-2xl font-bold text-green-900 mb-2",children:e.dashboard.parent.completeTitle}),(0,s.jsx)("p",{className:"text-green-800/70 mb-8",children:e.dashboard.parent.completeSubtitle}),(0,s.jsxs)("div",{className:"bg-white/50 p-4 rounded-2xl flex items-center gap-3 justify-center text-sm font-medium text-green-900",children:[(0,s.jsx)(h.A,{size:18}),e.dashboard.parent.safetyShield]})]}),(0,s.jsx)("div",{className:"mt-12 text-center text-xs text-secondary/60",children:"\xa9 2026 Children Gate. Smart and Safe Mobility for Children."})]})})}},44595:(e,t,a)=>{"use strict";a.d(t,{db:()=>o,j2:()=>c});var s=a(49904),r=a(5877),l=a(83935);let n={apiKey:"AIzaSyDJm5vG3oeZUUMlVZXJqxkxo_dWE9SgPCc",authDomain:"schedulo-b0491.firebaseapp.com",projectId:"schedulo-b0491",storageBucket:"schedulo-b0491.firebasestorage.app",messagingSenderId:"1067549095640",appId:"1:1067549095640:web:822a85c7d3b16ead2cc9ad"},i=null;function d(){return i||(i=(0,s.Dk)().length>0?(0,s.Sx)():(0,s.Wp)(n)),i}let c=(0,r.xI)(d()),o=(0,l.aU)(d());d()}},e=>{var t=t=>e(e.s=t);e.O(0,[7153,5563,7767,5714,6608,183,8441,1517,7358],()=>t(41647)),_N_E=e.O()}]);