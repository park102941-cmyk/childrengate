(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[970],{38589:(e,a,t)=>{Promise.resolve().then(t.bind(t,92313))},63394:(e,a,t)=>{"use strict";t.d(a,{A:()=>h});var r=t(12115);let s=function(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return a.filter((e,a,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===a).join(" ").trim()},i=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),d=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,a,t)=>t?t.toUpperCase():a.toLowerCase()),l=e=>{let a=d(e);return a.charAt(0).toUpperCase()+a.slice(1)};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=e=>{for(let a in e)if(a.startsWith("aria-")||"role"===a||"title"===a)return!0;return!1},o=(0,r.forwardRef)((e,a)=>{let{color:t="currentColor",size:i=24,strokeWidth:d=2,absoluteStrokeWidth:l,className:o="",children:h,iconNode:u,...m}=e;return(0,r.createElement)("svg",{ref:a,...c,width:i,height:i,stroke:t,strokeWidth:l?24*Number(d)/Number(i):d,className:s("lucide",o),...!h&&!n(m)&&{"aria-hidden":"true"},...m},[...u.map(e=>{let[a,t]=e;return(0,r.createElement)(a,t)}),...Array.isArray(h)?h:[h]])}),h=(e,a)=>{let t=(0,r.forwardRef)((t,d)=>{let{className:c,...n}=t;return(0,r.createElement)(o,{ref:d,iconNode:a,className:s("lucide-".concat(i(l(e))),"lucide-".concat(e),c),...n})});return t.displayName=l(e),t}},32423:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(63394).A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},67053:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(63394).A)("car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]])},98867:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(63394).A)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},90426:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(63394).A)("circle-question-mark",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},81476:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(63394).A)("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]])},77568:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(63394).A)("qr-code",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]])},68236:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(63394).A)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},16075:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(63394).A)("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]])},92823:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(63394).A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},76046:(e,a,t)=>{"use strict";var r=t(66658);t.o(r,"useParams")&&t.d(a,{useParams:function(){return r.useParams}}),t.o(r,"usePathname")&&t.d(a,{usePathname:function(){return r.usePathname}}),t.o(r,"useRouter")&&t.d(a,{useRouter:function(){return r.useRouter}}),t.o(r,"useSearchParams")&&t.d(a,{useSearchParams:function(){return r.useSearchParams}})},92313:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>g});var r=t(95155),s=t(12115),i=t(76046),d=t(48173),l=t.n(d),c=t(92823),n=t(67053),o=t(32423),h=t(77568),u=t(81476),m=t(68236),x=t(90426),b=t(98867),p=t(16075),y=t(183),k=t(68435);function g(e){let{children:a}=e,{t}=(0,y.o)(),{institutionId:d}=(0,k.A)(),l=(0,i.usePathname)(),[g,v]=(0,s.useState)(!1),[j,A]=(0,s.useState)(!1);return((0,s.useEffect)(()=>{A(!0)},[]),j)?(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50 flex",children:[(0,r.jsxs)("aside",{className:"w-64 glass border-r border-black/5 hidden lg:flex flex-col p-6 fixed h-full z-20",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-12",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-gray-50 rounded-xl flex items-center justify-center overflow-hidden border border-black/5",children:(0,r.jsx)("img",{src:"/children_gate_logo.png",alt:"Children Gate Logo",className:"w-full h-full object-contain p-1.5"})}),(0,r.jsx)("span",{className:"font-bold text-xl tracking-tight text-black",children:"Children Gate"})]}),(0,r.jsxs)("nav",{className:"flex-1 space-y-2",children:[(0,r.jsx)(f,{href:"/dashboard/admin",icon:c.A,label:t.dashboard.admin.sidebar.students,active:"/dashboard/admin"===l}),(0,r.jsx)(f,{href:"/dashboard/admin/dispatch",icon:n.A,label:t.dashboard.admin.sidebar.dispatch||"Dispatch",active:"/dashboard/admin/dispatch"===l}),(0,r.jsx)(f,{href:"/dashboard/admin/events",icon:o.A,label:t.dashboard.admin.sidebar.events||"Events",active:"/dashboard/admin/events"===l}),(0,r.jsx)(f,{href:"/dashboard/admin/qr",icon:h.A,label:t.dashboard.admin.sidebar.qr,active:"/dashboard/admin/qr"===l}),(0,r.jsx)(f,{href:"/dashboard/admin/sheets",icon:u.A,label:t.dashboard.admin.sidebar.sheets,active:"/dashboard/admin/sheets"===l}),(0,r.jsx)(f,{href:"/dashboard/admin/settings",icon:m.A,label:t.dashboard.admin.sidebar.settings,active:l.startsWith("/dashboard/admin/settings")}),(0,r.jsx)(f,{href:"/dashboard/admin/guide",icon:x.A,label:"사용 가이드",active:"/dashboard/admin/guide"===l})]}),(0,r.jsx)("div",{className:"mt-6 mb-6",children:(0,r.jsxs)("button",{onClick:()=>{if(!d)return;let e="".concat(window.location.origin,"/signup?code=").concat(d);navigator.clipboard.writeText(e),v(!0),setTimeout(()=>v(!1),2e3)},className:"w-full flex items-center justify-between px-4 py-4 rounded-2xl bg-primary/5 border border-primary/20 text-primary hover:bg-primary/10 transition-all group",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[g?(0,r.jsx)(b.A,{size:18}):(0,r.jsx)(p.A,{size:18}),(0,r.jsx)("span",{className:"font-bold text-sm",children:g?"복사완료!":"학부모 초대하기"})]}),!g&&(0,r.jsx)("span",{className:"text-[10px] bg-primary/10 px-1.5 py-0.5 rounded font-black uppercase",children:"Link"})]})}),(0,r.jsx)("div",{className:"mt-auto pt-6 border-t border-black/5",children:(0,r.jsxs)("div",{className:"flex items-center gap-3 px-2",children:[(0,r.jsx)("div",{className:"w-10 h-10 rounded-full bg-slate-200 border border-black/5"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-bold text-black",children:"Admin"}),(0,r.jsx)("p",{className:"text-xs text-black/60",children:"admin@childrengate.io"})]})]})})]}),a]}):(0,r.jsx)("div",{className:"min-h-screen bg-gray-50",children:a})}function f(e){let{href:a,icon:t,label:s,active:i=!1}=e;return(0,r.jsxs)(l(),{href:a,className:"w-full flex items-center gap-3 px-4 py-3 rounded-2xl transition-all ".concat(i?"bg-primary text-white shadow-lg shadow-primary/20":"text-black/60 hover:text-black hover:bg-black/5"),children:[(0,r.jsx)(t,{size:20,className:i?"text-white":"text-primary"}),(0,r.jsx)("span",{className:"font-bold",children:s})]})}},68435:(e,a,t)=>{"use strict";t.d(a,{A:()=>o,AuthProvider:()=>n});var r=t(95155),s=t(12115),i=t(5877),d=t(83935),l=t(44595);let c=(0,s.createContext)({user:null,role:null,institutionId:null,loading:!0}),n=e=>{let{children:a}=e,[t,n]=(0,s.useState)(null),[o,h]=(0,s.useState)(null),[u,m]=(0,s.useState)(null),[x,b]=(0,s.useState)(!0);return(0,s.useEffect)(()=>{if(!l.j2)return;let e=(0,i.hg)(l.j2,async e=>{if(n(e),e&&l.db)try{let a=await (0,d.x7)((0,d.H9)(l.db,"users",e.uid));if(a.exists()){let e=a.data();h(e.role),m(e.institutionId||null)}}catch(e){console.error("Error fetching user role:",e)}else h(null),m(null);b(!1)});return()=>e()},[]),(0,r.jsx)(c.Provider,{value:{user:t,role:o,institutionId:u,loading:x},children:a})},o=()=>(0,s.useContext)(c)},44595:(e,a,t)=>{"use strict";t.d(a,{db:()=>o,j2:()=>n});var r=t(49904),s=t(5877),i=t(83935);let d={apiKey:"AIzaSyDJm5vG3oeZUUMlVZXJqxkxo_dWE9SgPCc",authDomain:"schedulo-b0491.firebaseapp.com",projectId:"schedulo-b0491",storageBucket:"schedulo-b0491.firebasestorage.app",messagingSenderId:"1067549095640",appId:"1:1067549095640:web:822a85c7d3b16ead2cc9ad"},l=null;function c(){return l||(l=(0,r.Dk)().length>0?(0,r.Sx)():(0,r.Wp)(d)),l}let n=(0,s.xI)(c()),o=(0,i.aU)(c());c()}},e=>{var a=a=>e(e.s=a);e.O(0,[7153,5563,5714,6608,8173,183,8441,1517,7358],()=>a(38589)),_N_E=e.O()}]);