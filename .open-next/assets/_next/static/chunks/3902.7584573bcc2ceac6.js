"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3902],{63902:(e,t,s)=>{s.r(t),s.d(t,{default:()=>E});var a=s(95155),l=s(12115),r=s(76046),i=s(183),n=s(98867),c=s(16075),o=s(1466),d=s(33473),x=s(30098),m=s(46967),b=s(8427),h=s(65236),p=s(73580),u=s(77568),f=s(43831),g=s(66462),j=s(61594),N=s(75340),v=s(53938),k=s(86878),y=s(48686),w=s(27554),z=s(63348),C=s(86659),A=s(7410),S=s(23817),D=s(11054),P=s(28633),_=s(44595),I=s(83935);function E(e){let{portalId:t}=e,{t:s}=(0,i.o)(),E=(0,r.useParams)(),q=t||(null==E?void 0:E.id)||"gate-XXXX",[O,T]=(0,l.useState)("home"),[R,U]=(0,l.useState)(!1),[X,J]=(0,l.useState)(null),[L,F]=(0,l.useState)(!1),[W,G]=(0,l.useState)(!1),[M,Q]=(0,l.useState)("free"),[Z,B]=(0,l.useState)(!1),[H,K]=(0,l.useState)(!1),[V,Y]=(0,l.useState)([]),[$,ee]=(0,l.useState)({name:"",accessCode:"",birthDate:"",allergies:"",notes:"",grade:"",class:"",photo:""}),[et,es]=(0,l.useState)([]),[ea,el]=(0,l.useState)("12가 3456"),[er,ei]=(0,l.useState)("");(0,l.useEffect)(()=>{0!==V.length||"home"!==O||L||U(!0)},[V.length,O,L]);let en=(e,t)=>{et.includes(e)?es(et.filter(t=>t!==e)):es([...et,e])},ec=async()=>{let e=et.length>0?V.filter(e=>et.includes(e.id)&&"present"===e.status):V.filter(e=>"present"===e.status);if(0===e.length){alert("현재 하교 가능한 자녀가 없습니다. ㅠㅠ");return}try{if(!_.db)throw Error("Firebase database not initialized");for(let t of e)await (0,I.gS)((0,I.rJ)(_.db,"pickup_requests"),{studentId:t.id,studentName:t.name,className:t.class,parentName:"보호자",status:"pending",requestTime:(0,I.O5)(),institutionId:q,memo:er,type:"qr_portal"}),fetch("/api/sync-report",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"DISMISSAL_REQUEST_CREATED",studentName:t.name,className:t.class,timestamp:new Date().toISOString()})}).catch(e=>console.error("Report sync failed:",e));Y(V.map(t=>e.some(e=>e.id===t.id)?{...t,status:"pickup_requested"}:t)),es([]),ei(""),alert("\uD83D\uDE97 하교(Pick-up) 요청이 원으로 전송되었습니다!")}catch(e){console.error("Error requesting pickup:",e),alert("요청 중 오류가 발생했습니다.")}},eo=(e,t)=>{"cancel"===t?(Y(V.map(t=>t.id===e?{...t,status:"present"}:t)),alert("픽업 요청이 안전하게 취소되었습니다.")):alert("도착 예정 시간을 10분 지연시켰습니다. 기관에 전달되었습니다.")},ed={기쁨반:{name:"이지은 선생님",phone:"010-1234-5678",email:"jieun@kidsgate.com"},민들레반:{name:"김태희 선생님",phone:"010-8765-4321",email:"taehee@kidsgate.com"},햇살반:{name:"박보영 선생님",phone:"010-1111-2222",email:"boyoung@kidsgate.com"}},ex=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.preventDefault(),!$.name)return;let s=ed[$.class]||null;X?(Y(V.map(e=>e.id===X?{...e,name:$.name,birthDate:$.birthDate,allergies:$.allergies,notes:$.notes,grade:$.grade,class:$.class,photo:$.photo,teacherName:null==s?void 0:s.name,teacherPhone:null==s?void 0:s.phone,teacherEmail:null==s?void 0:s.email}:e)),J(null)):Y([...V,{id:Date.now().toString(),name:$.name,grade:$.grade,class:$.class||"대기반",photo:$.photo,status:"absent",checkIn:null,checkOut:null,birthDate:$.birthDate,allergies:$.allergies,notes:$.notes,teacherName:null==s?void 0:s.name,teacherPhone:null==s?void 0:s.phone,teacherEmail:null==s?void 0:s.email}]),t||(U(!1),F(!0)),J(null),ee({name:"",accessCode:"",birthDate:"",allergies:"",notes:"",grade:"",class:"",photo:""})},em=e=>{ee({name:e.name,accessCode:"",birthDate:e.birthDate||"",allergies:e.allergies||"",notes:e.notes||"",grade:e.grade||"",class:e.class||"",photo:e.photo||""}),J(e.id),U(!0)};return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col max-w-md mx-auto relative shadow-2xl",children:[(0,a.jsxs)("header",{className:"bg-white px-6 py-5 border-b border-black/5 sticky top-0 z-10 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-gray-50 rounded-xl flex items-center justify-center overflow-hidden border border-black/5",children:(0,a.jsx)("img",{src:"/children_gate_logo.png",alt:"Children Gate Logo",className:"w-full h-full object-contain p-2"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"font-black text-lg text-black leading-tight",children:"칠드런 게이트"}),(0,a.jsx)("p",{className:"text-xs text-black/40 font-bold",children:"children-gate-church-01"===q?"칠드런 게이트 어린이집":q})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>{let e="".concat(window.location.origin,"/signup?code=").concat(q);navigator.clipboard.writeText(e),B(!0),setTimeout(()=>B(!1),2e3),alert("초대 링크가 복사되었습니다! 카톡이나 문자로 배우자 또는 가족에게 전달해 주세요.")},className:"w-10 h-10 rounded-full flex items-center justify-center transition-all ".concat(Z?"bg-emerald-50 text-emerald-500":"bg-gray-50 text-black/30 hover:bg-primary/10 hover:text-primary"),title:"가족 초대하기",children:Z?(0,a.jsx)(n.A,{size:18}):(0,a.jsx)(c.A,{size:18})}),"pro"===M&&(0,a.jsx)("span",{className:"bg-amber-100 text-amber-700 text-[10px] font-black px-2 py-1 rounded-full border border-amber-200 uppercase tracking-tighter",children:"PRO"}),(0,a.jsx)("button",{className:"w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center text-black/50 overflow-hidden border border-black/5",children:(0,a.jsx)(o.A,{size:18})})]})]}),(0,a.jsxs)("main",{className:"flex-1 overflow-y-auto pb-24 px-6 pt-6",children:["home"===O&&(0,a.jsxs)(D.P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("h2",{className:"text-xl font-black text-black",children:"우리아이 출결 현황"}),(0,a.jsxs)("button",{onClick:()=>U(!0),className:"flex items-center gap-1 text-sm font-bold text-primary bg-primary/10 px-3 py-1.5 rounded-full",children:[(0,a.jsx)(d.A,{size:16})," 학생 추가"]})]}),0===V.length?(0,a.jsxs)("div",{className:"bg-white rounded-3xl p-8 border border-black/5 text-center shadow-sm",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-gray-50 rounded-full mx-auto flex items-center justify-center mb-4",children:(0,a.jsx)(o.A,{className:"text-black/20",size:32})}),(0,a.jsxs)("p",{className:"text-black/50 font-bold mb-4",children:["등록된 자녀가 없습니다.",(0,a.jsx)("br",{}),"기관 코드로 자녀를 연결해 주세요."]}),(0,a.jsx)("button",{onClick:()=>U(!0),className:"apple-button-primary w-full justify-center",children:"자녀 연결하기"})]}):(0,a.jsxs)("div",{className:"space-y-6",children:["free"===M&&(0,a.jsxs)(D.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>K(!0),className:"w-full p-4 bg-linear-to-tr from-black to-gray-800 rounded-3xl text-left relative overflow-hidden group shadow-xl",children:[(0,a.jsx)("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16 blur-3xl group-hover:bg-white/20 transition-all"}),(0,a.jsxs)("div",{className:"flex items-center justify-between relative z-10",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)(x.A,{className:"text-amber-400",size:16}),(0,a.jsx)("span",{className:"text-xs font-black text-amber-400 uppercase tracking-widest",children:"Upgrade to Pro"})]}),(0,a.jsx)("p",{className:"text-sm font-bold text-white",children:"AI 아이 성장 리포트와 프리미엄 서비스를 시작하세요"})]}),(0,a.jsx)(m.A,{className:"text-white/30"})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-[40px] p-6 shadow-2xl border border-primary/20 bg-linear-to-tr from-white to-primary/5 relative overflow-hidden",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4 bg-white/60 p-3 rounded-2xl border border-black/5 backdrop-blur-sm",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-black rounded-lg text-white flex items-center justify-center shrink-0"}),(0,a.jsxs)("div",{className:"flex-1 text-sm font-bold text-black flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-black/50 text-xs",children:"등록 차량"}),(0,a.jsx)("input",{type:"text",value:ea,onChange:e=>el(e.target.value),className:"font-mono bg-white px-2 py-1 rounded shadow-sm border border-black/5 text-right outline-none w-28 focus:ring-2 focus:ring-primary",placeholder:"차량번호"})]})]}),(0,a.jsx)("input",{type:"text",value:er,onChange:e=>ei(e.target.value),placeholder:"선생님께 남길 메모 (예: 오늘 할머니가 데리러 가요)",className:"w-full text-sm font-medium border-2 border-dashed border-primary/30 px-5 py-4 rounded-2xl outline-none focus:border-primary placeholder:text-primary/40 mb-5 bg-white shadow-inner text-black"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("button",{onClick:()=>{let e=et.length>0?V.filter(e=>et.includes(e.id)&&"absent"===e.status):V.filter(e=>"absent"===e.status);if(0===e.length){alert("현재 등교 가능한 자녀가 없습니다. ㅠㅠ");return}Y(V.map(t=>e.some(e=>e.id===t.id)?{...t,status:"present",checkIn:new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})}:t)),es([]),ei(""),alert("\uD83D\uDE80 등교(Drop-off) 처리가 완료되었습니다!")},className:"bg-primary text-white py-6 rounded-[28px] shadow-xl shadow-primary/30 flex flex-col items-center justify-center gap-3 active:scale-95 transition-transform",children:[(0,a.jsx)(b.A,{size:36}),(0,a.jsxs)("span",{className:"font-black text-xl leading-tight text-center",children:["등교 확인",(0,a.jsx)("br",{}),(0,a.jsx)("span",{className:"text-xs opacity-70 font-semibold tracking-widest uppercase",children:"Drop-off"})]})]}),(0,a.jsxs)("button",{onClick:ec,className:"bg-emerald-500 text-white py-6 rounded-[28px] shadow-xl shadow-emerald-500/30 flex flex-col items-center justify-center gap-3 active:scale-95 transition-transform",children:[(0,a.jsx)(h.A,{size:36}),(0,a.jsxs)("span",{className:"font-black text-xl leading-tight text-center",children:["하교 요청",(0,a.jsx)("br",{}),(0,a.jsx)("span",{className:"text-xs opacity-70 font-semibold tracking-widest uppercase",children:"Pick-up"})]})]})]}),(0,a.jsx)("p",{className:"text-center text-[10px] text-black/40 font-bold mt-4 uppercase tracking-widest",children:"Select cards below for individual actions"})]}),(0,a.jsx)("div",{className:"space-y-4",children:V.map(e=>{let t=et.includes(e.id);return(0,a.jsxs)("div",{onClick:()=>en(e.id,e.status),className:"bg-white rounded-[32px] p-6 border-2 transition-all relative overflow-hidden cursor-pointer active:scale-[0.98] ".concat(t?"border-primary shadow-lg shadow-primary/20":"border-black/5 shadow-sm"),children:[t&&(0,a.jsx)("div",{className:"absolute top-4 left-4 w-6 h-6 bg-primary rounded-full flex items-center justify-center text-white z-10 transition-all",children:(0,a.jsx)(n.A,{size:14,strokeWidth:4})}),(0,a.jsx)("div",{className:"absolute top-4 right-4 z-20",children:(0,a.jsx)("button",{onClick:t=>{t.stopPropagation(),em(e)},className:"p-2 text-black/30 bg-gray-50 rounded-full hover:bg-gray-100 hover:text-black transition-colors",title:"프로필 수정",children:(0,a.jsx)(p.A,{size:14})})}),(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-6 relative z-10",children:[(0,a.jsxs)("div",{className:"relative group",children:[(0,a.jsx)("div",{className:"w-14 h-14 bg-linear-to-tr shadow-inner border border-white rounded-full flex items-center justify-center font-black text-xl overflow-hidden ".concat(t?"from-primary to-primary/80 text-white":"from-primary/20 to-primary/5 text-primary"),children:e.photo?(0,a.jsx)("img",{src:e.photo,alt:e.name,className:"w-full h-full object-cover"}):e.name.charAt(0)}),(0,a.jsx)("button",{onClick:t=>{t.stopPropagation(),alert("".concat(e.name,"의 QR 코드가 활성화 되었습니다. 원 스캐너에 보여주세요!"))},className:"absolute -bottom-1 -right-1 w-7 h-7 bg-white rounded-lg shadow-lg flex items-center justify-center text-black border border-black/5 active:scale-95 transition-transform",children:(0,a.jsx)(u.A,{size:14})})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-1 mb-1 relative z-10",children:[e.grade&&(0,a.jsx)("span",{className:"px-2 py-0.5 bg-gray-100/50 text-[10px] font-black uppercase rounded-md text-black/50",children:e.grade}),(0,a.jsx)("span",{className:"px-2 py-0.5 bg-gray-100 text-[10px] font-black uppercase rounded-md text-black/50",children:e.class})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("h3",{className:"text-xl font-black text-black",children:e.name}),(0,a.jsx)("div",{className:"px-2 py-1 rounded-lg flex items-center gap-1.5 text-[10px] font-black uppercase tracking-wider ".concat("pickup_requested"===e.status?"bg-amber-100 text-amber-700":"present"===e.status?"bg-emerald-100 text-emerald-700":"bg-gray-100 text-black/40"),children:"pickup_requested"===e.status?"하교 중":"present"===e.status?"보육 중":"결석"})]})]})]}),e.teacherName&&(0,a.jsxs)("div",{className:"bg-primary/5 rounded-2xl p-4 mb-4 border border-primary/10 flex items-center justify-between z-10 relative",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-full bg-primary/20 flex items-center justify-center text-primary",children:(0,a.jsx)(o.A,{size:18})}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{className:"text-xs font-bold text-primary opacity-80 uppercase tracking-widest",children:"담임 선생님"}),(0,a.jsx)("span",{className:"text-sm font-black text-black",children:e.teacherName})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("a",{href:"tel:".concat(e.teacherPhone),onClick:e=>e.stopPropagation(),className:"w-8 h-8 rounded-full bg-white shadow-sm flex items-center justify-center text-primary hover:bg-primary hover:text-white transition-colors",children:(0,a.jsx)(f.A,{size:14})}),(0,a.jsx)("a",{href:"mailto:".concat(e.teacherEmail),onClick:e=>e.stopPropagation(),className:"w-8 h-8 rounded-full bg-white shadow-sm flex items-center justify-center text-primary hover:bg-primary hover:text-white transition-colors",children:(0,a.jsx)(g.A,{size:14})})]})]}),(0,a.jsxs)("div",{className:"relative pl-6 pb-2 border-l-2 border-gray-100 ml-4 space-y-4",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute -left-[29px] top-1 w-3 h-3 rounded-full ring-4 ring-white ".concat(e.checkIn?"bg-primary":"bg-gray-200")}),(0,a.jsxs)("p",{className:"text-xs font-bold flex items-center gap-1.5 text-black",children:["등교 상태 ",(0,a.jsx)("span",{className:"font-mono text-black/40",children:e.checkIn||"미등교"})]})]}),"pickup_requested"===e.status?(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute -left-[31px] top-0.5 w-4 h-4 bg-amber-400 rounded-full ring-4 ring-white animate-pulse"}),(0,a.jsxs)("p",{className:"text-xs font-bold text-amber-600 flex items-center gap-1.5",children:["하교 준비 중 ",(0,a.jsx)(j.A,{size:12})]})]}):e.checkOut?(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute -left-[29px] top-1 w-3 h-3 bg-red-400 rounded-full ring-4 ring-white"}),(0,a.jsxs)("p",{className:"text-xs font-bold text-red-600 flex items-center gap-1.5",children:["하교 완료 ",(0,a.jsx)("span",{className:"font-mono",children:e.checkOut})]})]}):"present"===e.status?(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute -left-[29px] top-1 w-3 h-3 bg-emerald-400 rounded-full ring-4 ring-white"}),(0,a.jsx)("p",{className:"text-xs font-bold text-emerald-600",children:"원내 보육 중"})]}):null]}),"pickup_requested"===e.status&&(0,a.jsxs)("div",{className:"mt-6 flex items-center gap-2 pt-4 border-t border-black/5",children:[(0,a.jsxs)("button",{onClick:t=>{t.stopPropagation(),eo(e.id,"cancel")},className:"flex-1 bg-red-50 text-red-600 py-3 rounded-2xl text-xs font-bold flex items-center justify-center gap-1 active:scale-95 transition-transform",children:[(0,a.jsx)(N.A,{size:16})," 하교 취소"]}),(0,a.jsxs)("button",{onClick:t=>{t.stopPropagation(),eo(e.id,"delay")},className:"flex-1 bg-gray-100 text-black py-3 rounded-2xl text-xs font-bold flex items-center justify-center gap-1 active:scale-95 transition-transform",children:[(0,a.jsx)(v.A,{size:16})," 10분 지연"]})]})]},e.id)})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 pt-4",children:[(0,a.jsxs)("button",{onClick:()=>"pro"===M?alert("리포트 준비 중..."):K(!0),className:"bg-white p-5 rounded-[32px] border border-black/5 shadow-sm text-left relative overflow-hidden group",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-blue-50 rounded-2xl flex items-center justify-center text-blue-500 mb-3 group-hover:scale-110 transition-transform",children:(0,a.jsx)(k.A,{size:20})}),(0,a.jsx)("h4",{className:"font-black text-sm text-black mb-1",children:"성장 대시보드"}),(0,a.jsx)("p",{className:"text-[10px] text-black/40 font-bold",children:"아이의 활동 통계"}),"free"===M&&(0,a.jsx)("div",{className:"absolute top-4 right-4 text-black/20",children:(0,a.jsx)(y.A,{size:14})})]}),(0,a.jsxs)("button",{onClick:()=>"pro"===M?alert("갤러리 준비 중..."):K(!0),className:"bg-white p-5 rounded-[32px] border border-black/5 shadow-sm text-left relative overflow-hidden group",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-emerald-50 rounded-2xl flex items-center justify-center text-emerald-500 mb-3 group-hover:scale-110 transition-transform",children:(0,a.jsx)(w.A,{size:20})}),(0,a.jsx)("h4",{className:"font-black text-sm text-black mb-1",children:"프리미엄 갤러리"}),(0,a.jsx)("p",{className:"text-[10px] text-black/40 font-bold",children:"고화질 무제한 저장"}),"free"===M&&(0,a.jsx)("div",{className:"absolute top-4 right-4 text-black/20",children:(0,a.jsx)(y.A,{size:14})})]})]})]}),"messages"===O&&(0,a.jsxs)(D.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[(0,a.jsx)("h2",{className:"text-xl font-black text-black mb-2",children:"선생님 알림장"}),(0,a.jsx)("div",{className:"space-y-4",children:[{id:1,text:"이번 학기부터 미술 수업에 잘 집중하고 있습니다.",date:"2026-02-20",file:null},{id:2,text:"첨부된 학업 성취도 평가 결과를 확인해 주세요.",date:"2026-02-15",file:"성적표.pdf"}].map(e=>(0,a.jsxs)("div",{className:"bg-white rounded-3xl p-6 border border-black/5 shadow-sm",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3 border-b border-black/5 pb-3",children:[(0,a.jsxs)("span",{className:"flex items-center gap-2 text-primary font-bold text-sm",children:[(0,a.jsx)(z.A,{size:16})," 알림"]}),(0,a.jsx)("span",{className:"text-xs font-bold text-black/30",children:e.date})]}),(0,a.jsx)("p",{className:"text-black font-medium leading-relaxed mb-4",children:e.text}),e.file&&(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-2xl border border-black/5",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 overflow-hidden",children:[(0,a.jsx)("div",{className:"p-2 bg-white rounded-xl text-red-500 shadow-sm shrink-0",children:(0,a.jsx)(C.A,{size:18})}),(0,a.jsx)("span",{className:"text-sm font-bold text-black truncate",children:e.file})]}),(0,a.jsx)("button",{onClick:()=>alert("".concat(e.file," 파일을 다운로드합니다...")),className:"text-xs font-bold text-primary shrink-0 px-3 py-1.5 bg-primary/10 rounded-lg active:scale-95 transition-transform",children:"다운로드"})]})]},e.id))})]})]}),!W&&(0,a.jsxs)("button",{onClick:()=>G(!0),className:"fixed bottom-24 right-6 w-14 h-14 bg-black text-white rounded-full shadow-2xl flex items-center justify-center z-40 active:scale-90 transition-transform",children:[(0,a.jsx)(z.A,{size:24}),(0,a.jsx)("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full border-2 border-white animate-bounce"})]}),(0,a.jsx)(P.N,{children:W&&(0,a.jsxs)(D.P.div,{initial:{opacity:0,y:100,scale:.8},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:100,scale:.8},className:"fixed bottom-6 right-6 left-6 max-w-sm ml-auto bg-white rounded-[32px] shadow-[0_32px_128px_rgba(0,0,0,0.2)] z-60 overflow-hidden border border-black/5",children:[(0,a.jsxs)("div",{className:"bg-black p-6 text-white flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center",children:(0,a.jsx)("span",{className:"font-black text-white",children:"AI"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-black text-sm text-white",children:"칠드런 게이트 도우미"}),(0,a.jsx)("p",{className:"text-[10px] text-white/50 font-bold uppercase tracking-widest",children:"Always Online"})]})]}),(0,a.jsx)("button",{onClick:()=>G(!1),className:"text-white/30 hover:text-white transition-colors",children:(0,a.jsx)(N.A,{size:24})})]}),(0,a.jsxs)("div",{className:"p-6 space-y-4 max-h-[400px] overflow-y-auto bg-gray-50/50",children:[(0,a.jsx)("div",{className:"bg-white p-4 rounded-2xl rounded-tl-none border border-black/5 shadow-sm max-w-[85%]",children:(0,a.jsx)("p",{className:"text-sm font-medium text-black",children:"안녕하세요! 무엇을 도와드릴까요? 등하교 관리, 프로그램 문의 등 궁금한 점을 클릭해 보세요."})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-2",children:[(0,a.jsx)("button",{onClick:()=>alert("등하교는 홈 화면의 등하교 확인 버튼을 통해 하실 수 있습니다."),className:"bg-white p-3 rounded-xl border border-black/5 text-xs font-bold text-black/60 hover:bg-black hover:text-white transition-all text-left",children:"\uD83D\uDE97 등하교 방법이 궁금해요"}),(0,a.jsx)("button",{onClick:()=>alert("알림장 탭을 통해 선생님의 메시지를 확인하실 수 있습니다."),className:"bg-white p-3 rounded-xl border border-black/5 text-xs font-bold text-black/60 hover:bg-black hover:text-white transition-all text-left",children:"\uD83D\uDCDD 알림장은 어디서 보나요?"}),(0,a.jsx)("a",{href:"mailto:onchurchtx@gmail.com",className:"bg-primary/5 p-3 rounded-xl border border-primary/20 text-xs font-bold text-primary hover:bg-primary hover:text-white transition-all text-left block",children:"✉️ 이메일로 직접 문의하기"})]})]}),(0,a.jsxs)("div",{className:"p-4 bg-white border-t border-black/5 flex items-center gap-2",children:[(0,a.jsx)("input",{type:"text",placeholder:"메시지를 입력하세요...",className:"flex-1 bg-gray-50 border-none rounded-xl px-4 py-2 text-sm font-medium outline-none focus:ring-2 focus:ring-primary"}),(0,a.jsx)("button",{className:"w-8 h-8 bg-black text-white rounded-lg flex items-center justify-center",children:(0,a.jsx)(m.A,{size:18})})]})]})}),(0,a.jsx)("nav",{className:"bg-white border-t border-black/5 fixed bottom-0 w-full max-w-md pb-safe",children:(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsxs)("button",{onClick:()=>T("home"),className:"flex-1 py-4 flex flex-col items-center gap-1 ".concat("home"===O?"text-primary":"text-black/30"),children:[(0,a.jsx)(o.A,{size:24,className:"home"===O?"fill-primary/20":""}),(0,a.jsx)("span",{className:"text-[10px] font-bold",children:"홈"})]}),(0,a.jsxs)("button",{onClick:()=>T("messages"),className:"flex-1 py-4 flex flex-col items-center gap-1 relative ".concat("messages"===O?"text-primary":"text-black/30"),children:[(0,a.jsx)(z.A,{size:24,className:"messages"===O?"fill-primary/20":""}),(0,a.jsx)("span",{className:"text-[10px] font-bold",children:"알림장"}),(0,a.jsx)("div",{className:"absolute top-3 right-1/3 w-2 h-2 bg-red-500 rounded-full border border-white"})]})]})}),(0,a.jsx)(P.N,{children:R&&(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-end justify-center bg-black/50 backdrop-blur-sm sm:items-center p-0 sm:p-4",children:(0,a.jsxs)(D.P.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"bg-white w-full max-w-md rounded-t-[40px] sm:rounded-[40px] p-8 pb-12 shadow-2xl relative max-h-[90vh] overflow-y-auto",children:[(0,a.jsx)("button",{onClick:()=>{U(!1),F(!0)},className:"absolute top-8 right-8 text-black/20 hover:text-black z-20",children:(0,a.jsx)(N.A,{size:24})}),(0,a.jsx)("div",{className:"w-12 h-1.5 bg-gray-200 rounded-full mx-auto mb-6 sm:hidden"}),(0,a.jsx)("h2",{className:"text-2xl font-black mb-2 text-black",children:X?"자녀 프로필 수정":"자녀 프로필 입력"}),(0,a.jsx)("p",{className:"text-black/50 font-medium mb-6",children:X?"자녀의 세부 정보를 안전하게 수정할 수 있습니다.":"안전한 돌봄을 위해 자녀의 세부 정보를 정확히 입력해 주세요."}),(0,a.jsxs)("form",{onSubmit:e=>ex(e),className:"space-y-4",children:[(0,a.jsx)("div",{className:"flex flex-col items-center mb-6",children:(0,a.jsxs)("label",{className:"w-24 h-24 rounded-full bg-gray-100 flex items-center justify-center border-2 border-dashed border-black/20 cursor-pointer overflow-hidden relative group",children:[$.photo?(0,a.jsx)("img",{src:$.photo,alt:"Profile",className:"w-full h-full object-cover"}):(0,a.jsxs)("div",{className:"text-center text-black/30 group-hover:text-primary flex flex-col items-center",children:[(0,a.jsx)(d.A,{size:24}),(0,a.jsx)("span",{className:"text-[10px] font-bold mt-1",children:"사진 추가"})]}),(0,a.jsx)("input",{type:"file",accept:"image/*",className:"hidden",onChange:e=>{var t;let s=null===(t=e.target.files)||void 0===t?void 0:t[0];if(s){let e=new FileReader;e.onload=e=>{var t;ee({...$,photo:null===(t=e.target)||void 0===t?void 0:t.result})},e.readAsDataURL(s)}}})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-bold text-black/70 mb-2 ml-1",children:"자녀 이름"}),(0,a.jsx)("input",{required:!0,placeholder:"예: 홍길동",value:$.name,onChange:e=>ee({...$,name:e.target.value}),className:"w-full bg-gray-50 border border-black/5 px-4 py-3 rounded-2xl outline-none focus:ring-2 focus:ring-primary font-bold text-black"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-bold text-black/70 mb-2 ml-1",children:"생년월일"}),(0,a.jsx)("input",{type:"date",value:$.birthDate,onChange:e=>ee({...$,birthDate:e.target.value}),className:"w-full bg-gray-50 border border-black/5 px-4 py-3 rounded-2xl outline-none focus:ring-2 focus:ring-primary font-bold text-black"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-bold text-black/70 mb-2 ml-1",children:"학년 (선택)"}),(0,a.jsx)("input",{placeholder:"예: 초3, 5세",value:$.grade,onChange:e=>ee({...$,grade:e.target.value}),className:"w-full bg-gray-50 border border-black/5 px-4 py-3 rounded-2xl outline-none focus:ring-2 focus:ring-primary font-bold text-black"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-bold text-black/70 mb-2 ml-1",children:"반 이름 (선택)"}),(0,a.jsx)("input",{placeholder:"예: 기쁨반, 민들레반",value:$.class,onChange:e=>ee({...$,class:e.target.value}),className:"w-full bg-gray-50 border border-black/5 px-4 py-3 rounded-2xl outline-none focus:ring-2 focus:ring-primary font-bold text-black transition-all"}),ed[$.class]&&(0,a.jsxs)("p",{className:"text-[10px] font-bold text-primary mt-1.5 ml-1 animate-pulse",children:["✨ ",ed[$.class].name," 매칭됨"]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-bold text-black/70 mb-2 ml-1",children:"알레르기 정보"}),(0,a.jsx)("input",{placeholder:"예: 복숭아, 땅콩, 고등어 등 (없으면 빈칸)",value:$.allergies,onChange:e=>ee({...$,allergies:e.target.value}),className:"w-full bg-red-50/50 border border-red-100 px-4 py-3 rounded-2xl outline-none focus:ring-2 focus:ring-red-300 font-bold text-black placeholder:font-normal"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-bold text-black/70 mb-2 ml-1",children:"기타 특이사항"}),(0,a.jsx)("textarea",{rows:3,placeholder:"건강 상태, 약 복용 등 선생님이 꼭 알아야 할 특별한 사항을 적어주세요.",value:$.notes,onChange:e=>ee({...$,notes:e.target.value}),className:"w-full bg-gray-50 border border-black/5 px-4 py-3 rounded-2xl outline-none focus:ring-2 focus:ring-primary font-medium text-black resize-none text-sm placeholder:text-black/30"})]}),(0,a.jsx)("div",{className:"flex flex-col gap-3 pt-4",children:X?(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)("button",{type:"button",onClick:()=>{U(!1),J(null)},className:"flex-1 py-4 bg-gray-100 text-black font-bold rounded-2xl active:scale-95 transition-transform",children:"취소"}),(0,a.jsx)("button",{type:"submit",className:"flex-1 py-4 bg-black text-white font-bold rounded-2xl shadow-xl shadow-black/30 active:scale-95 transition-transform",children:"수정 완료"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{type:"button",onClick:e=>ex(e,!0),className:"w-full py-4 bg-primary/10 text-primary font-bold rounded-2xl active:scale-95 transition-transform border border-primary/20 hover:bg-primary hover:text-white",children:"저장하고 자녀 한 명 더 추가하기"}),(0,a.jsx)("button",{type:"submit",className:"w-full py-4 bg-black text-white font-bold rounded-2xl shadow-xl shadow-black/30 active:scale-95 transition-transform",children:"프로필 등록 완료"})]})})]})]})})}),(0,a.jsx)(P.N,{children:H&&(0,a.jsxs)("div",{className:"fixed inset-0 z-100 flex items-center justify-center p-6 sm:p-4",children:[(0,a.jsx)(D.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/60 backdrop-blur-md",onClick:()=>K(!1)}),(0,a.jsxs)(D.P.div,{initial:{opacity:0,y:100,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:100,scale:.9},className:"bg-white w-full max-w-sm rounded-[44px] overflow-hidden shadow-2xl relative z-110",children:[(0,a.jsxs)("div",{className:"bg-linear-to-br from-indigo-600 to-indigo-800 p-8 text-white relative",children:[(0,a.jsx)("div",{className:"absolute top-6 right-6",children:(0,a.jsx)("button",{onClick:()=>K(!1),className:"text-white/40 hover:text-white",children:(0,a.jsx)(N.A,{size:28})})}),(0,a.jsx)("div",{className:"w-14 h-14 bg-white/20 rounded-2xl flex items-center justify-center mb-4",children:(0,a.jsx)(x.A,{size:28,className:"text-amber-400"})}),(0,a.jsx)("h2",{className:"text-2xl font-black mb-1",children:"칠드런 게이트 PRO"}),(0,a.jsx)("p",{className:"text-white/60 font-bold text-sm tracking-tight",children:"아이의 일상을 더 깊게, 안전하게."})]}),(0,a.jsxs)("div",{className:"p-8 space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-5",children:[(0,a.jsxs)("div",{className:"flex items-start gap-4",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-indigo-50 rounded-xl flex items-center justify-center text-indigo-600 shrink-0",children:(0,a.jsx)(A.A,{size:20})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-black text-sm text-black",children:"AI 성장 분석 리포트"}),(0,a.jsx)("p",{className:"text-xs text-black/40 font-medium",children:"활동 데이터를 기반으로 아이의 발달 단계를 분석합니다."})]})]}),(0,a.jsxs)("div",{className:"flex items-start gap-4",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-indigo-50 rounded-xl flex items-center justify-center text-indigo-600 shrink-0",children:(0,a.jsx)(w.A,{size:20})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-black text-sm text-black",children:"고화질 무제한 갤러리"}),(0,a.jsx)("p",{className:"text-xs text-black/40 font-medium",children:"용량 제한 없는 고화질 사진 및 영상 자동 저장 서비스를 제공합니다."})]})]}),(0,a.jsxs)("div",{className:"flex items-start gap-4",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-indigo-50 rounded-xl flex items-center justify-center text-indigo-600 shrink-0",children:(0,a.jsx)(S.A,{size:20})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-black text-sm text-black",children:"안심 등하교 알림 고도화"}),(0,a.jsx)("p",{className:"text-xs text-black/40 font-medium",children:"차량 도착 예상 시간 및 안전 수칙 실시간 리마인드를 제공합니다."})]})]})]}),(0,a.jsxs)("div",{className:"pt-4",children:[(0,a.jsxs)("div",{className:"flex items-baseline gap-2 mb-4 justify-center",children:[(0,a.jsx)("span",{className:"text-3xl font-black text-black",children:"₩9,900"}),(0,a.jsx)("span",{className:"text-black/30 font-bold",children:"/ 월"})]}),(0,a.jsx)("button",{onClick:()=>{Q("pro"),K(!1),alert("프로 멤버십 승급이 완료되었습니다! \uD83D\uDE80")},className:"w-full py-5 bg-black text-white font-black rounded-3xl shadow-xl shadow-black/20 active:scale-95 transition-transform",children:"지금 시작하기"}),(0,a.jsx)("p",{className:"text-center text-[10px] text-black/30 font-bold mt-4",children:"7일간 무료 체험 후 결제가 진행됩니다."})]})]})]})]})})]})}},44595:(e,t,s)=>{s.d(t,{db:()=>d,j2:()=>o});var a=s(49904),l=s(5877),r=s(83935);let i={apiKey:"AIzaSyDJm5vG3oeZUUMlVZXJqxkxo_dWE9SgPCc",authDomain:"schedulo-b0491.firebaseapp.com",projectId:"schedulo-b0491",storageBucket:"schedulo-b0491.firebasestorage.app",messagingSenderId:"1067549095640",appId:"1:1067549095640:web:822a85c7d3b16ead2cc9ad"},n=null;function c(){return n||(n=(0,a.Dk)().length>0?(0,a.Sx)():(0,a.Wp)(i)),n}let o=(0,l.xI)(c()),d=(0,r.aU)(c());c()}}]);